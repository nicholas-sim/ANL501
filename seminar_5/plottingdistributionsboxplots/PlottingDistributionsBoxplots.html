<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Plotting Distributions for Comparisons: Boxplots, Dotplots and Tree Maps</title>
    <meta charset="utf-8" />
    <meta name="author" content="Nicholas Sim" />
    <meta name="date" content="2024-04-10" />
    <script src="PlottingDistributionsBoxplots_files/header-attrs-2.24/header-attrs.js"></script>
    <link href="PlottingDistributionsBoxplots_files/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="PlottingDistributionsBoxplots_files/panelset-0.2.6/panelset.js"></script>
    <script src="PlottingDistributionsBoxplots_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="PlottingDistributionsBoxplots_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="PlottingDistributionsBoxplots_files/datatables-binding-0.29/datatables.js"></script>
    <script src="PlottingDistributionsBoxplots_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="PlottingDistributionsBoxplots_files/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="PlottingDistributionsBoxplots_files/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="PlottingDistributionsBoxplots_files/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="PlottingDistributionsBoxplots_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="PlottingDistributionsBoxplots_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="scrollable.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Plotting Distributions for Comparisons: Boxplots, Dotplots and Tree Maps
]
.author[
### Nicholas Sim
]
.date[
### 10 April 2024
]

---






class: center, middle, inverse
# Introduction

---
### Topics

* Box plot with `geom_boxplot()` 

* Other distribution plots - dot and jitter plots with `geom_point()` and `geom_jitter()`

* Treemaps

---
### Required Libraries


```r
library(tidyverse)
library(socviz)
library(ggrepel)
library(treemapify)

theme_set(theme_bw()) # Set the map theme to black and white
```

---
### Introduction

In this discussion, we consider various approaches for comparing distributions of a numerical variable across observational units. For instance, we may not only be interested in the distribution of inflation rates (over a certain time period) for a certain country, but also to compare how these distributions differ across a set of countries. 


To compare distributions, we may construct the boxplots, dotplots, jitter plots and ridge plots. It turns out such comparison distribution plots are straightforward to construct: specify the countries or units you want to compare across as the x-aesthetic, and the variable whose distribution is to be constructed as the y-aesthetic.

Finally, we may plot the distribution of a variable that shows a hierarchical structure, such as, the ranking of the importance of the different attributes in a variable. To show such information, we may consider plotting a treemap.

---
class: center, middle, inverse
# Boxplot

---
### Boxplot

A boxplot displays 5 summary statistics:  1st quartile (Q1), median, 3rd quartile (Q3), as well as two boundary points, the "minimum" and "maximum". 

The "minimum" is defined as Q1-1.5(Q3-Q1) and the "maximum" as Q3+1.5(Q3-Q1), where Q3-Q1 is known as the interquartile range (IQR). 

Data points outside the minimum and maximum boundaries may be viewed as outliers. These are represented by dots.

---
### Boxplot

For example, consider the dataset `organdata`, which contains longitudinal data on countries' organ donation rates across years. The main variable of interest is `donors`, which is the organ donation rate per million population.


.panelset[
.panel[.panel-name[R Code]

```r
dplyr::glimpse(organdata)
```

```
## Rows: 238
## Columns: 21
## $ country          &lt;chr&gt; "Australia", "Australia", "Australia", "Australia", "…
## $ year             &lt;date&gt; NA, 1991-01-01, 1992-01-01, 1993-01-01, 1994-01-01, …
## $ donors           &lt;dbl&gt; NA, 12.09, 12.35, 12.51, 10.25, 10.18, 10.59, 10.26, …
## $ pop              &lt;int&gt; 17065, 17284, 17495, 17667, 17855, 18072, 18311, 1851…
## $ pop_dens         &lt;dbl&gt; 0.2204433, 0.2232723, 0.2259980, 0.2282198, 0.2306484…
## $ gdp              &lt;int&gt; 16774, 17171, 17914, 18883, 19849, 21079, 21923, 2296…
## $ gdp_lag          &lt;int&gt; 16591, 16774, 17171, 17914, 18883, 19849, 21079, 2192…
## $ health           &lt;dbl&gt; 1300, 1379, 1455, 1540, 1626, 1737, 1846, 1948, 2077,…
## $ health_lag       &lt;dbl&gt; 1224, 1300, 1379, 1455, 1540, 1626, 1737, 1846, 1948,…
## $ pubhealth        &lt;dbl&gt; 4.8, 5.4, 5.4, 5.4, 5.4, 5.5, 5.6, 5.7, 5.9, 6.1, 6.2…
## $ roads            &lt;dbl&gt; 136.59537, 122.25179, 112.83224, 110.54508, 107.98096…
## $ cerebvas         &lt;int&gt; 682, 647, 630, 611, 631, 592, 576, 525, 516, 493, 474…
## $ assault          &lt;int&gt; 21, 19, 17, 18, 17, 16, 17, 17, 16, 15, 16, 15, 14, N…
## $ external         &lt;int&gt; 444, 425, 406, 376, 387, 371, 395, 385, 410, 409, 393…
## $ txp_pop          &lt;dbl&gt; 0.9375916, 0.9257116, 0.9145470, 0.9056433, 0.8961075…
## $ world            &lt;chr&gt; "Liberal", "Liberal", "Liberal", "Liberal", "Liberal"…
## $ opt              &lt;chr&gt; "In", "In", "In", "In", "In", "In", "In", "In", "In",…
## $ consent_law      &lt;chr&gt; "Informed", "Informed", "Informed", "Informed", "Info…
## $ consent_practice &lt;chr&gt; "Informed", "Informed", "Informed", "Informed", "Info…
## $ consistent       &lt;chr&gt; "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "Yes…
## $ ccode            &lt;chr&gt; "Oz", "Oz", "Oz", "Oz", "Oz", "Oz", "Oz", "Oz", "Oz",…
```
]

.panel[.panel-name[Data]
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1dc2307dd9076704077a" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1dc2307dd9076704077a">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238"],["Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Austria","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Belgium","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Denmark","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","Finland","France","France","France","France","France","France","France","France","France","France","France","France","France","France","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Ireland","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Netherlands","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Norway","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Sweden","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","Switzerland","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States","United States"],[null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null,null,"1991-01-01","1992-01-01","1993-01-01","1994-01-01","1995-01-01","1996-01-01","1997-01-01","1998-01-01","1999-01-01","2000-01-01","2001-01-01","2002-01-01",null],[null,12.09,12.35,12.51,10.25,10.18,10.59,10.26,10.48,8.67,10.23,9.529999999999999,10.48,null,null,27.6,23.1,26.2,21.4,21.5,24.7,19.5,20.7,25.9,24,23.9,23.8,null,null,21,20.6,21,22.8,19.6,21.2,22.5,19.4,25.2,25.6,22.2,21.7,null,null,14.7,12.6,14.1,13.9,14.8,14,14.2,13.7,13.8,15.3,13.5,13,null,null,11.7,16.1,14.7,12.9,12.9,14,11.4,11,14.3,12.5,12.9,12.7,null,null,16.8,19.4,19.6,20,19.4,19.5,16.3,19.8,16.5,19.9,17,17.1,null,null,19.1,16.8,17.1,15.4,15.1,15.1,15,16.5,16.2,17,17.8,20,null,null,13.3,14.2,13.9,12.3,12.8,12.7,13.2,13.4,13.2,12.5,12.8,12.2,null,null,5.2,5.8,6.2,7.9,10.1,11,11.6,12.3,13.7,14.2,17.1,18.1,null,null,19,19.5,17.1,20.3,24.6,16.8,20.9,23.8,18.7,17.6,18.2,21,null,null,14.9,15.1,15.4,13.1,15.2,15.1,14.4,13,10.9,12.6,11.6,12.6,null,null,15.2,14.3,17.1,16,15.7,15.1,15.1,15.6,15.5,17.6,14.4,13.7,null,null,20.2,21.7,22.6,25,27,26.8,29,31.5,33.4,33.9,32.5,33.7,null,null,16.4,14.9,15.2,12.8,13,11.9,12.6,14.6,12.1,10.9,12.1,11,null,null,15.6,14.8,16.6,15.9,13,12.57,14.28,15.43,14.42,14,13.19,10.4,null,null,14.2,14.4,13.9,14.2,14.4,13.6,13.4,12.3,12.1,13.2,13.2,13,null,null,17.89,17.62,18.7,19.38,20.14,20.1,20.09,21,20.87,21.21,21.31,21.47,null],[17065,17284,17495,17667,17855,18072,18311,18518,18711,18926,19153,19413,19663,null,7678,7755,7841,7906,7936,7948,7959,7968,7977,7992,8012,8030,8053,null,9967,10005,10045,10085,10116,10137,10157,10181,10203,10226,10251,10287,10333,null,27701,28031,28377,28703,29036,29354,29672,29987,30248,30499,30770,31111,31414,null,5141,5154,5171,5189,5206,5233,5263,5285,5304,5322,5340,5359,5376,null,4986,5014,5042,5066,5088,5108,5125,5140,5154,5166,5176,5188,5201,null,56709,56976,57240,57467,57659,57844,58026,58208,58398,58623,58896,59192,59486,null,63254,80014,80625,81156,81438,81678,81915,82035,82047,82100,82212,82350,82489,null,56719,56751,56859,57049,57204,57301,57397,57512,57588,57646,57762,57894,57994,null,3514,3534,3558,3576,3590,3609,3636,3673,3715,3756,3801,3863,3932,null,14952,15070,15184,15290,15383,15459,15531,15611,15707,15812,15926,16046,16149,null,4242,4262,4286,4312,4337,4359,4381,4405,4432,4462,4491,4514,4538,null,38850,38920,39011,39096,39166,39223,39279,39348,39453,39626,40614,41201,41874,null,8559,8617,8668,8719,8781,8827,8841,8846,8851,8858,8872,8896,8925,null,6712,6797,6875,6938,6994,7041,7072,7089,7110,7144,7184,7233,7290,null,57238,57439,57582,57711,57855,58005,58139,58283,58440,58635,58817,59051,59232,null,249623,252981,256514,259919,263126,266278,269394,272647,275854,279040,282224,285318,288369,null],[0.220443289300653,0.223272300748461,0.225997969312331,0.228219841317002,0.230648399089549,0.233451574816373,0.236538943474026,0.239212940595927,0.241706087670936,0.244483427676774,0.247415782008521,0.250774425736512,0.25400389085958,null,9.15573575005962,9.24755544955879,9.350107321726689,9.427617457667539,9.46339136656332,9.47770093012163,9.490818030050081,9.501550202718819,9.512282375387549,9.53016932983544,9.554018602432629,9.575482947770089,9.602909611256861,null,30.1117824773414,30.226586102719,30.3474320241692,30.4682779456193,30.5619335347432,30.6253776435045,30.6858006042296,30.7583081570997,30.8247734138973,30.8942598187311,30.9697885196375,31.0785498489426,31.2175226586103,null,0.277826532178071,0.281136259466572,0.284606458381182,0.287876067763156,0.291215883481552,0.294405257050471,0.29759463061939,0.300753915758414,0.303371609159319,0.305889007793906,0.30860699596113,0.312027047492581,0.315065978912022,null,11.9308424228359,11.9610118356927,12.0004641448132,12.0422371779995,12.08168948712,12.1443490368995,12.2139707588768,12.2650266883268,12.309120445579,12.3508934787654,12.3926665119517,12.436760269204,12.4762125783244,null,1.47449356794322,1.48277391690078,1.49105426585835,1.49815170782197,1.50465769628863,1.51057223125832,1.51559958598255,1.52003548720982,1.5241756616886,1.52772438267041,1.53068165015526,1.53423037113707,1.53807481886737,null,10.2826835902085,10.3310970081596,10.3789664551224,10.4201269265639,10.4549410698096,10.4884859474161,10.5214868540345,10.5544877606528,10.588939256573,10.629737080689,10.6792384406165,10.7329102447869,10.7862194016319,null,17.7167184830406,22.411001876593,22.5821359549618,22.7308629526931,22.8098479119402,22.8770691538526,22.9434501302412,22.9770607511974,22.980421813293,22.9952665042153,23.0266364171078,23.0652886312075,23.1042209338151,null,18.8222605694564,18.8328798035442,18.8687197185903,18.9317714209863,18.9832083360988,19.0153978894272,19.0472555916904,19.0854184641933,19.1106391451517,19.1298865069357,19.1683812305038,19.2121855711157,19.2453706776399,null,5.00071154119824,5.02917318912765,5.06332716664295,5.08894264977942,5.10886580333001,5.13590436886296,5.17432759356767,5.22698164223709,5.28675110288886,5.34509748114416,5.40913618898534,5.49736729756653,5.59555998292301,null,36.0028894774862,36.2870214302914,36.561521791476,36.8167589694197,37.0406934745967,37.2236937153865,37.3970623645557,37.5896941969661,37.8208523958584,38.0736816758969,38.3481820370816,38.6371297856971,38.8851432699254,null,1.30974434975917,1.31591947634927,1.32332962825738,1.3313572928245,1.33907620106212,1.34586884031123,1.35266147956033,1.36007163146845,1.36840805236507,1.37767074225022,1.38662467580585,1.39372607138446,1.40113622329258,null,7.67801735212158,7.6918516176209,7.70983616277001,7.72663491373347,7.74046917923279,7.75173422399652,7.76280163639598,7.77643826953102,7.79718966778,7.83138006679974,8.026640842704399,8.1426510405344,8.27565762169213,null,1.90216908169615,1.9150591163659,1.9263934571962,1.93772779802649,1.9515068006045,1.96172993154947,1.96484131922838,1.9659525291137,1.96706373899902,1.96861943283847,1.97173082051738,1.97706462796693,1.9835096453018,null,16.2557519980625,16.4616129813514,16.650520707193,16.8031000242189,16.9387260837975,17.0525550980867,17.1276338096391,17.1688060062969,17.2196657786389,17.3020101719545,17.3988859287963,17.5175587309276,17.6556066844272,null,23.5634597175909,23.6462064138982,23.7050759540571,23.7581820427319,23.8174632579968,23.8792145238977,23.9343789881026,23.9936602033675,24.0582931950105,24.1385698406817,24.2134947099749,24.3098266847804,24.3843398789675,null,2.59238411937161,2.62725761209003,2.66394851434559,2.6993101113397,2.7326154392575,2.76534958132077,2.79770985627925,2.83149290327539,2.86479823119319,2.89788546996653,2.93095193834516,2.96308373896183,2.99476897609224,null],[16774,17171,17914,18883,19849,21079,21923,22961,24148,25445,26545,27461,28168,null,18914,19860,20601,21119,21940,22817,23798,24364,25423,26513,27738,28457,28842,null,18008,18796,19444,19733,20732,21679,22152,22936,23738,24521,25991,27113,27652,null,19044,19101,19590,20269,21428,22292,22764,23949,25013,26658,28472,29235,30429,null,18285,19126,19644,20056,21494,22462,23548,24676,25537,26985,28146,29203,29228,null,18025,17281,16943,17082,17993,19031,19842,21691,23267,23702,25397,26376,26616,null,18162,18989,19566,19763,20655,21283,21990,23113,24044,24856,25928,27394,28094,null,20359,17511,19811,19983,20690,21411,22164,22589,23283,24100,24942,25436,25843,null,17430,18209,18883,19124,19903,20652,21396,22030,23291,23729,24629,25359,25569,null,12917,13495,14241,14927,15990,17789,19245,22017,23995,25936,27891,29703,32571,null,17707,18708,19285,19856,20768,21723,22541,23753,24780,25438,26873,28756,28983,null,17905,19134,20128,21047,22503,23868,26218,27784,27323,30005,35829,36554,35531,null,12971,13754,14331,14359,15024,15720,16416,17203,18332,19546,20017,20864,21592,null,18660,19000,19116,19063,20132,21290,22029,22756,23525,25099,26574,26902,27255,null,24648,24879,25135,25316,25901,26304,26180,27675,28733,28562,29837,30134,30725,null,16228,16729,17110,17952,18994,19998,20839,22442,23343,24086,25271,26720,27959,null,23038,23443,24411,25327,26578,27559,28772,30283,31612,33016,34590,35118,36006,null],[16591,16774,17171,17914,18883,19849,21079,21923,22961,24148,25445,26545,27461,28168,17425,18914,19860,20601,21119,21940,22817,23798,24364,25423,26513,27738,28457,28842,16848,18008,18796,19444,19733,20732,21679,22152,22936,23738,24521,25991,27113,27652,18699,19044,19101,19590,20269,21428,22292,22764,23949,25013,26658,28472,29235,30429,17460,18285,19126,19644,20056,21494,22462,23548,24676,25537,26985,28146,29203,29228,17436,18025,17281,16943,17082,17993,19031,19842,21691,23267,23702,25397,26376,26616,17113,18162,18989,19566,19763,20655,21283,21990,23113,24044,24856,25928,27394,28094,19015,20359,17511,19811,19983,20690,21411,22164,22589,23283,24100,24942,25436,25843,16525,17430,18209,18883,19124,19903,20652,21396,22030,23291,23729,24629,25359,25569,11434,12917,13495,14241,14927,15990,17789,19245,22017,23995,25936,27891,29703,32571,16580,17707,18708,19285,19856,20768,21723,22541,23753,24780,25438,26873,28756,28983,16942,17905,19134,20128,21047,22503,23868,26218,27784,27323,30005,35829,36554,35531,12051,12971,13754,14331,14359,15024,15720,16416,17203,18332,19546,20017,20864,21592,17915,18660,19000,19116,19063,20132,21290,22029,22756,23525,25099,26574,26902,27255,23009,24648,24879,25135,25316,25901,26304,26180,27675,28733,28562,29837,30134,30725,15804,16228,16729,17110,17952,18994,19998,20839,22442,23343,24086,25271,26720,27959,22039,23038,23443,24411,25327,26578,27559,28772,30283,31612,33016,34590,35118,36006],[1300,1379,1455,1540,1626,1737,1846,1948,2077,2231,2379,2504,2629,2754,1344,1419,1551,1674,1739,1865,1986,1848,1953,2069,2147,2174,2220,2266,1340,1460,1547,1595,1632,1882,1981,1967,2041,2139,2288,2441,2515,2589,1714,1855,1959,2002,2039,2044,2039,2130,2291,2400,2541,2743,2931,3119,1554,1603,1660,1757,1834,1843,1949,2028,2141,2297,2351,2523,2580,2637,1414,1547,1542,1421,1390,1428,1517,1580,1607,1641,1698,1841,1943,2045,1555,1668,1769,1866,1937,2025,2091,2163,2231,2306,2416,2588,2736,2884,1729,1845.5,1962,1988,2106,2263,2410,2416,2470,2563,2640,2735,2830,2925,1397,1520,1584,1554,1557,1524,1605,1705,1800,1853,2001,2107,2166,2225,791,884,1005,1041,1119,1208,1269,1417,1487,1623,1774,2059,2367,2675,1419,1532,1623,1700,1745,1827,1878,1936,2016,2098,2196,2455,2643,2831,1385,1542,1643,1688,1777,1892,2064,2179,2314,2561,2747,2946,3083,3220,865,946,1035,1084,1116,1195,1250,1287,1371,1467,1493,1567,1646,1725,1566,1552,1594,1637,1648,1733,1845,1870,1961,2119,2243,2370,2517,2664,2040,2220,2345,2384,2457,2555,2654,2812,2967,2985,3111,3288,3445,3602,977,1079,1184,1246,1331,1393,1461,1535,1607,1725,1839,2012,2160,2308,2738,2957,3165,3357,3500,3655,3792,3939,4096,4298,4538,4869,5267,5665],[1224,1300,1379,1455,1540,1626,1737,1846,1948,2077,2231,2379,2504,2629,1255,1344,1419,1551,1674,1739,1865,1986,1848,1953,2069,2147,2174,2220,1246,1340,1460,1547,1595,1632,1882,1981,1967,2041,2139,2288,2441,2515,1600,1714,1855,1959,2002,2039,2044,2039,2130,2291,2400,2541,2743,2931,1506,1554,1603,1660,1757,1834,1843,1949,2028,2141,2297,2353,2520,2583,1268,1414,1547,1542,1421,1390,1428,1517,1580,1607,1641,1698,1841,1943,1555,1555,1668,1769,1866,1937,2025,2091,2163,2231,2306,2416,2588,2760,1630,1729,1845.5,1962,1988,2106,2263,2410,2416,2470,2563,2640,2735,2830,1274,1397,1520,1584,1554,1557,1524,1605,1705,1800,1853,2001,2107,2166,727,791,884,1005,1041,1119,1208,1269,1417,1487,1623,1774,2059,2367,1320,1419,1532,1623,1700,1745,1827,1878,1936,2016,2098,2196,2455,2643,1297,1385,1542,1643,1688,1777,1892,2064,2179,2314,2561,2747,3258,3409,759,865,946,1035,1084,1116,1195,1250,1287,1371,1467,1493,1567,1646,1497,1566,1552,1594,1637,1648,1733,1845,1870,1961,2119,2243,2370,2517,1915,2040,2220,2345,2384,2457,2555,2654,2812,2967,2985,3111,3288,3446,940,977,1079,1184,1246,1331,1393,1461,1535,1607,1725,1839,2012,2160,2475,2738,2957,3165,3357,3500,3655,3792,3939,4096,4298,4538,4869,5267],[4.8,5.4,5.4,5.4,5.4,5.5,5.6,5.7,5.9,6.1,6.2,6.2,6.2,null,5.2,5.2,5.5,5.9,5.9,5.8,5.8,5.3,5.4,5.4,5.4,5.2,5.4,null,null,null,null,null,6,6,6.4,6,6,6.2,6.2,6.4,6.5,null,6.7,7.2,7.4,7.2,6.9,6.5,6.3,6.2,6.5,6.3,6.3,6.6,6.7,null,7,7,7,7.2,7,6.8,6.8,6.8,6.9,7,6.9,7.1,7.3,null,6.3,7.3,7.2,6.3,5.8,5.7,5.8,5.5,5.3,5.2,5,5.3,5.5,null,6.6,6.7,6.9,7.2,7.1,7.3,7.2,7.1,7.1,7.1,7.1,7.2,7.4,null,6.5,7.25,8,8,8.199999999999999,8.5,8.800000000000001,8.5,8.300000000000001,8.4,8.300000000000001,8.5,8.6,null,6.4,6.6,6.5,6.2,5.9,5.3,5.4,5.6,5.6,5.6,6,6.3,6.4,null,4.4,4.8,5,5.1,5,4.9,4.7,4.8,4.7,4.6,4.7,5.2,5.5,null,5.4,5.7,6.1,6.3,6.1,6,5.5,5.5,5.5,5.5,5.5,5.5,5.5,null,6.4,6.8,6.9,6.8,6.7,6.7,6.6,6.6,7.2,7.3,6.5,6.9,7.4,null,5.3,5.3,5.6,5.8,5.6,5.5,5.5,5.4,5.4,5.4,5.3,5.4,5.4,null,7.5,7.2,7.3,7.5,7.1,7.1,7.3,7.1,7.2,7.2,7.2,7.5,7.9,null,4.3,4.7,5,5.1,5.1,5.2,5.5,5.6,5.7,5.8,5.8,6.2,6.5,null,5,5.4,5.8,5.9,5.9,5.8,5.8,5.5,5.5,5.8,5.9,6.2,6.4,null,4.7,5.2,5.5,5.7,5.9,6,6,5.9,5.8,5.8,5.8,6.2,6.6,null],[136.595370641664,122.251793566304,112.832237782224,110.545084055018,107.980957714926,111.609119079239,107.585604281579,95.4206717788098,93.79509379509381,93.2051146570855,94.8676447553908,89.4761242466388,87.2196511213955,null,202.917426413128,200,178.931258768014,162.28181128257,168.598790322581,152.239557121288,129.036311094359,138.679718875502,120.722075968409,135.01001001001,121.817274088867,119.302615193026,118.713522910717,null,198.254238988663,187.206396801599,166.450970632155,164.600892414477,167.259786476868,142.941698727434,133.503987397854,133.975051566644,147.015583651867,136.61255622922,143.400643839625,144.454165451541,145.359527726701,null,143.063427313093,131.639970033178,123.37456390739,125.94502316831,112.377737980438,114.158206717994,104.172283634403,102.177610297796,97.4940491933351,97.87206137906161,95.0926226844329,89.2931760470573,83.7206341121793,null,123.322310834468,117.578579743888,111.58383291433,107.727885912507,104.878985785632,111.217274985668,97.6629298878966,92.5260170293283,94.079939668175,96.5802329951146,97.5655430711611,80.4254525097966,86.1235119047619,null,130.16446048937,126.047068209015,119.198730662436,95.5388866956178,94.33962264150939,86.33516053249799,78.8292682926829,85.21400778210121,77.60962359332559,83.4301200154859,76.50695517774339,83.4618350038551,79.7923476254566,null,197.764023347264,183.989750070205,172.955974842767,171.69854003167,156.419639605265,153.706520987484,147.192637783063,145.065970313359,152.710709270865,144.772529553247,137.174001629992,137.856467090147,128.685741182799,null,174.629272457078,141.225285575024,131.857364341085,122.591059194637,120.508853360839,115.747202429051,106.915705304279,104.211616992747,94.9699562445915,94.6650426309379,91.2640490439352,84.7237401335762,82.9443925856781,null,125.83085033234,142.429208295889,140.945145007826,125.558730214377,123.959862946647,122.510950943265,116.312699269997,116.706078731395,109.640897409182,115.064358324949,110.972611751671,115.417832590597,119.908956098907,null,136.027319294252,125.919637804188,116.63856098932,120.525727069351,112.534818941504,121.086173455251,124.587458745875,128.777566022325,123.28398384926,110.223642172524,109.181794264667,106.652860471136,95.6256358087487,null,92.027822364901,85.0033178500332,82.5210748155954,80.77174623937211,84.3788597802769,86.2927744356039,75.9770781018608,74.4987508807892,67.8678296301012,68.9349860865166,67.939218887354,61.8845818272467,61.1183355006502,null,78.2649693540783,75.7860159549507,75.8282781147923,65.16697588126161,65.252478671893,69.97017664601969,58.2058890664232,68.7854710556186,79.42238267148019,68.1308830121022,75.9296370518815,60.9215773150199,68.31203173204059,null,232.483912483912,227.029804727646,200.405013970419,163.085737671373,143.338610018894,146.57216429136,139.565671223809,142.421469960354,150.989785314171,144.803916620401,142.2169695179,133.880245625106,127.692601614367,null,99.0769949760486,89.5903446675177,85.94831564374709,87.0512673471729,71.97357931898421,66.72708734564409,64.69856351091509,60.705403572236,61.123036944978,59.9458116956424,65.3742110009017,65.535071942446,62.7450980392157,null,142.133492252682,126.526408709725,121.309090909091,104.20870567887,97.08321418358589,98.2814941059509,87.10407239819,82.8043447594865,83.96624472573841,81.6069428891377,82.40534521158131,75.21083920918019,70.3703703703704,null,94.3778608616653,82.7486550949703,76.0480705776111,68.5657846857618,65.802437127301,64.9081975691751,64.5005934054593,64.2211279446837,61.2765229295003,58.3781018163213,60.8667562099393,60.9303822119862,60.4571853052404,null,178.665427464617,164.075562986944,153.01309090342,154.471200643277,154.739554433997,157.042639647286,156.146759022101,154.093021379293,150.445525531622,149.50186353211,148.623079539656,147.891124990362,148.472963460011,null],[682,647,630,611,631,592,576,525,516,493,474,449,424,null,953,942,880,828,803,774,801,770,732,699,644,583,586,null,688,662,646,659,615,586,585,574,563,552,541,530,519,null,476,462,449,463,444,434,432,430,407,387,378,369,360,null,699,688,691,714,646,655,650,606,580,588,596,604,612,null,957,939,886,932,830,875,736,721,670,652,639,604,587,null,529,520,487,473,437,431,424,409,405,394,383,372,361,null,846,880,834,817,791,753,725,679,650,608,558,535,512,null,886,876,832,821,791,715,670,669,670,627,597,567,537,null,825,807,787,802,749,733,719,665,614,663,631,599,567,null,649,651,650,638,616,594,577,563,552,557,538,519,500,null,816,758,760,767,696,668,689,646,639,593,554,523,492,null,862,856,786,752,719,681,644,609,597,587,530,473,416,null,669,670,648,632,605,587,585,591,588,571,555,531,507,null,545,507,492,477,466,441,414,412,390,381,354,327,300,null,858,860,818,759,721,718,698,671,660,640,620,600,580,null,474,457,447,454,453,457,452,443,428,440,432,424,416,null],[21,19,17,18,17,16,17,17,16,15,16,15,14,null,16,12,14,13,11,10,11,9,11,8,9,9,9,null,13,14,16,19,17,16,19,17,15,13,11,9,7,null,20,22,20,17,17,16,17,14,15,15,15,15,15,null,10,13,13,12,13,11,11,11,9,11,13,15,17,null,30,28,32,31,29,28,32,25,22,24,25,26,25,null,10,10,10,11,11,10,10,9,7,7,7,7,7,null,10,11,11,11,11,11,11,9,9,9,7,7,7,null,25,27,21,16,15,14,14,12,12,11,10,9,8,null,7,6,8,7,7,8,9,8,11,10,10,10,10,null,9,11,12,12,10,12,13,13,11,12,11,10,9,null,11,14,11,10,7,10,10,9,10,8,12,8,4,null,9,9,8,9,8,8,8,8,8,8,9,10,11,null,12,14,13,12,12,10,12,10,11,12,10,9,8,null,13,13,14,16,13,10,11,14,8,10,8,6,4,null,7,7,9,12,10,10,9,7,7,8,9,10,11,null,97,103,99,101,96,88,80,75,68,64,61,58,55,null],[444,425,406,376,387,371,395,385,410,409,393,367,341,null,614,590,549,551,561,527,499,470,439,458,460,429,442,null,565,561,547,574,584,549,523,523,523,523,523,523,523,null,469,463,436,440,422,424,417,399,398,411,382,353,324,null,582,572,565,574,548,535,499,506,482,495,508,521,534,null,853,823,792,741,738,737,686,701,686,673,657,660,638,null,689,668,650,645,615,602,580,571,581,572,563,554,545,null,477,480,456,432,417,399,385,370,345,339,338,329,320,null,422,435,419,396,381,376,366,365,359,343,327,311,295,null,432,410,379,374,392,387,391,394,417,409,394,379,364,null,310,314,309,295,294,286,293,282,265,276,270,264,258,null,518,482,463,442,405,412,394,406,408,424,412,383,354,null,453,441,405,381,368,367,362,361,366,351,349,347,345,null,468,454,419,407,421,379,363,366,368,355,352,382,412,null,638,637,605,558,562,443,417,407,400,387,409,431,453,null,326,311,298,288,283,279,279,279,274,277,280,283,286,null,576,565,545,559,553,546,535,526,519,514,499,484,469,null],[0.937591561675945,0.925711640823883,0.914547013432409,0.90564328974925,0.896107532903948,0.885347498893316,0.873791709901152,0.8640241926773951,0.8551119662230769,0.84539786537039,0.835378269722759,0.824189975789419,0.8137110308701621,null,0.651211252930451,0.644745325596389,0.637673766101263,0.632431065013913,0.630040322580645,0.629089079013588,0.628219625581103,0.627510040160643,0.626802055910743,0.625625625625626,0.624063904143784,0.62266500622665,0.620886626102074,null,0.802648740844788,0.79960019990005,0.79641612742658,0.793257312840853,0.790826413602214,0.789188122718753,0.78763414394014,0.785777428543365,0.784083112809958,0.782319577547428,0.780411667154424,0.777680567706814,0.774218523178167,null,1.11909317353164,1.1059184474332,1.09243401346161,1.08002647806849,1.06764017082243,1.05607412959052,1.04475599892154,1.03378130523227,1.02486114784449,1.01642676809076,1.00747481312967,0.99643213011475,0.986821162538995,null,0.778058743435129,0.7760962359332561,0.7735447689035,0.770861437656581,0.768344218209758,0.764379896808714,0.7600228006840209,0.75685903500473,0.754147812971342,0.751597143930853,0.749063670411985,0.746407911923866,0.744047619047619,null,0.601684717208183,0.598324690865576,0.595001983339944,0.592183181997631,0.589622641509434,0.587314017227878,0.585365853658537,0.5836575875486379,0.582072176949942,0.580720092915215,0.579598145285935,0.578257517347726,0.576812151509325,null,0.722989296231639,0.719601235607975,0.716282320055905,0.713452938208015,0.711077195234049,0.708802987345273,0.7065798090511149,0.704370533260033,0.702078838316381,0.699384200740324,0.69614235262157,0.692661170428436,0.689237803853007,null,0.695608182881715,0.549903766840803,0.545736434108527,0.542165705554734,0.5402883174930621,0.5387007517324131,0.537142159555637,0.536356433229719,0.536277987007447,0.535931790499391,0.535201673721598,0.534304796599879,0.53340445392719,null,0.458400183360073,0.458141706754066,0.457271496157161,0.455748567021333,0.454513670372701,0.453744262752832,0.452985347666254,0.452079566003617,0.451482947836355,0.451028692363737,0.450122918181503,0.449096624866135,0.448322240231748,null,0.8537279453614109,0.848896434634975,0.843170320404722,0.838926174496644,0.835654596100278,0.8312551953449711,0.825082508250825,0.81677103185407,0.807537012113055,0.798722044728434,0.789265982636148,0.776598498576236,0.762970498474059,null,0.735687533440342,0.72992700729927,0.724446786090622,0.719424460431655,0.715075082883703,0.711559609289087,0.708260897559719,0.704631349689322,0.700324695995416,0.695674171515305,0.690694461886224,0.685529103826499,0.681156727970772,null,0.235737859500236,0.234631628343501,0.233317778814746,0.23191094619666,0.230574129582661,0.229410415232852,0.228258388495777,0.227014755959137,0.225631768953069,0.224114746750336,0.222667557336896,0.221533008418254,0.220361392684002,null,0.720720720720721,0.719424460431655,0.71774627669119,0.716185799058727,0.714905785630394,0.7138668638298959,0.7128491051197841,0.711599064755515,0.70970521886802,0.706606773330641,0.689417442261289,0.679595155457392,0.668672684720829,null,0.7010164738871359,0.696298015550656,0.6922011998154129,0.688152311044845,0.683293474547318,0.679732638495525,0.678656260604004,0.678272665611576,0.677889504010846,0.6773538044705349,0.676284941388638,0.674460431654676,0.672268907563025,null,1.04290822407628,1.02986611740474,1.01818181818182,1.00893629287979,1.0008578781813,0.994176963499503,0.989819004524887,0.987445337847369,0.984528832630098,0.979843225083987,0.974387527839644,0.967786533941656,0.960219478737997,null,0.716307348265139,0.713800727728547,0.712028064325657,0.710436485245447,0.7086682222798379,0.706835617619171,0.705206487899689,0.703464131908104,0.7015742642026011,0.699241067621728,0.69707737558869,0.694315083571828,0.692193408968125,null,1.09765526413832,1.08308529099023,1.06816781930031,1.05417456976981,1.0413262087365,1.02899976716064,1.01709763394879,1.00496246061758,0.993279053412312,0.981938073394495,0.970860026078576,0.9603319804568941,0.950171481677989,null],["Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","SocDem","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Corporatist","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal","Liberal"],["In","In","In","In","In","In","In","In","In","In","In","In","In","In","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out","Out",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In","In"],["Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed"],["Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Presumed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed","Informed"],["Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes"],["Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Oz","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Aus","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Bel","Can","Can","Can","Can","Can","Can","Can","Can","Can","Can","Can","Can","Can","Can","Den","Den","Den","Den","Den","Den","Den","Den","Den","Den","Den","Den","Den","Den","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fin","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Fra","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ger","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Ita","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Irl","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Neth","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Nor","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Spa","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swe","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","Swiz","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>country<\/th>\n      <th>year<\/th>\n      <th>donors<\/th>\n      <th>pop<\/th>\n      <th>pop_dens<\/th>\n      <th>gdp<\/th>\n      <th>gdp_lag<\/th>\n      <th>health<\/th>\n      <th>health_lag<\/th>\n      <th>pubhealth<\/th>\n      <th>roads<\/th>\n      <th>cerebvas<\/th>\n      <th>assault<\/th>\n      <th>external<\/th>\n      <th>txp_pop<\/th>\n      <th>world<\/th>\n      <th>opt<\/th>\n      <th>consent_law<\/th>\n      <th>consent_practice<\/th>\n      <th>consistent<\/th>\n      <th>ccode<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"scrollY":200,"scrollX":"100%","scrollCollase":true,"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8,9,10,11,12,13,14,15]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
]
]



---
### Preliminary Plot

Before we construct a boxplot for each country, let's examine `organdata` for each country in the sample. The figure below shows that the organ donation rates of several countries have been somewhat stable over time (e.g. Germany). In other countries, the donation spread spread across years can be quite large (e.g. Spain and Italy).

.pull-left[

```r
p &lt;- ggplot(data = organdata, 
            mapping = aes(x = year, y = donors))

p + geom_line(aes(group = country)) + 
  facet_wrap(~country) 
```
]
.pull-right[
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/box.1-out-1.png" style="display: block; margin: auto;" /&gt;
]


---
### Constructing a Boxplot

Let's construct a boxplot for each country. To do so, we map `country` as an `x`-variable aesthetic and `donors` as `y`-variable aesthetic. `country` is a categorical variable where each country is a category and `donors` contains the donor donation rates for each country across years.


.pull-left[

```r
p &lt;- ggplot(data = organdata, 
            mapping = aes(x = country, y = donors))  

p + geom_boxplot() 
```
]

.pull-right[
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/box.2-out-1.png" style="display: block; margin: auto;" /&gt;
]

---
### Flipping the Coordinates


As it is visually easier to view from left to right (than from down to up), let's flip the coordinates below.


.pull-left[

```r
p &lt;- ggplot(data = organdata, mapping = aes(x = country, y = donors))  
p + geom_boxplot() + coord_flip()
```
]

.pull-right[
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/box.3-out-1.png" style="display: block; margin: auto;" /&gt;
]


---
### Reordering a Variable

To clean up the boxplots, we may order the countries' boxplots based on the mean of the organ donation rates across years. 

The country with the smallest mean is ordered at the bottom of the plot and the country with largest mean is ordered at the top. 

This can be done by using the `reorder()` function from the `stats` library (see https://stat.ethz.ch/R-manual/R-devel/library/stats/html/reorder.factor.html). 

The `reorder()` function passes in the categorical variable to be reordered (i.e. `country`), then the criterion by which the categories are to be reordered. 


---
### Reordering a Variable


Let's reorder the countries (i.e. categories) based on the mean donation rate (i.e. criterion). 

The command is `reorder(country, donors, mean, na.rm = TRUE)`, where the 1st argument takes in the categories to be reordered, the 2nd argument takes in the **variable** by which the categories are to be reordered, the 3rd takes in the **function** to be applied to the second variable for the reordering. 

The default function is  `mean()`.

---
### Reordering a Variable

.panelset[
.panel[.panel-name[R Code]

```r
 ## We can leave "mean" out of the reorder() because the mean function is the default.
p &lt;- ggplot(data = organdata,  
            mapping = aes(x = reorder(country, donors, mean, na.rm = TRUE), y = donors))

p + geom_boxplot() + 
  labs(x = NULL) + 
  coord_flip() 
```
]

.panel[.panel-name[Plot]
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/box.4-out-1.png" style="display: block; margin: auto;" /&gt;
]
]


---
### Differenting by Government Types 

Let's differentiate the countries by filling in the boxplots with different colors based on the types of government. This information is contained in the variable `world`.

---
### Differenting by Government Types 

.panelset[
.panel[.panel-name[R Code]

```r
p &lt;- ggplot(data = organdata,  
            mapping = aes(x = reorder(country, donors, na.rm=TRUE),  
                          y = donors, fill = world))

p + geom_boxplot() + 
  labs(x = NULL) +  
  coord_flip() +
  theme(legend.position = "top") 
```
]

.panel[.panel-name[Plot]
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/box.5-out-1.png" style="display: block; margin: auto;" /&gt;
]
]

---
class: center, middle, inverse
# Dotplots

---
### Dotplots

Besides the boxplot, another useful presentation of distribution is the  **dotplot**. The dotplot shows how values of the observations are distributed for each category. 

The dotplot can be constructed using `geom_point()` where the `x`-variable aesthetic is a factor/categorical variable and the `y`-variable aesthetic is a numerical variable whose distribution is to be displayed.

---
### Dotplots

.panelset[
.panel[.panel-name[R Code]

```r
p &lt;- ggplot(data = organdata,  
            mapping = aes(x = reorder(country, donors, na.rm=TRUE),  
                          y = donors, color = world))  ## use color instead of fill

p + geom_point() + 
  labs(x = NULL) +  
  coord_flip() + 
  theme(legend.position = "top") 
```
]

.panel[.panel-name[Plot]
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/dot.1-out-1.png" style="display: block; margin: auto;" /&gt;
]
]



---
class: center, middle, inverse
# Jitter Plots

---
### Jitter Plots

The scatter points in a dotplot may heavily overlap or bunch up. This may make it difficult to see how dense the values of a variable is for each category in a categorical variable.

To separate the points, we add a very small random noise to these data points. This procedure is known as **jittering**.

To jitter a point plot, we use `geom_jitter()`. The size of the jitter can be controlled using the setting `position_jitter(width = 0.13)`.


---
### Jitter Plots

.panelset[
.panel[.panel-name[R Code]

```r
p &lt;- ggplot(data = organdata,  
            mapping = aes(x = reorder(country, donors, na.rm=TRUE),  
                          y = donors, color = world))  ## use color instead of fill

p + geom_jitter(position = position_jitter(width=0.13)) + 
  labs(x = NULL) +  
  coord_flip() + 
  theme(legend.position = "top") 
```
]

.panel[.panel-name[Plot]
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/dot.2-out-1.png" style="display: block; margin: auto;" /&gt;
]
]

---
class: center, middle, inverse
# Ridge Plots

---
### Ridge Plots
A ridge plot is a plot that compares the density of a numerical variable across groups. It can be constructed using  `geom_density_ridges()` from the `ggridges` package (install it first). In the example below, the x-aesthetic represents the groups (i.e. countries) and the y-aesthetic represents the numerical variable whose density is to be shown. `coord_flip` is not required as it is understood that densities should be shown horizontally.

.panelset[
.panel[.panel-name[R Code]

```r
library(ggridges)

p &lt;- ggplot(data = organdata,  
            mapping = aes(y = reorder(country, donors, na.rm=TRUE),  
                          x = donors, fill = world))  ## use color instead of fill

p + geom_density_ridges(alpha = 0.4) + 
  labs(y = NULL) +  
  theme(legend.position = "top") 
```
]

.panel[.panel-name[Plot]
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/dense.1-out-1.png" style="display: block; margin: auto;" /&gt;
]
]


---
class: center, middle, inverse
# Treemaps

---
### Treemaps

Nesting is an approach of putting something smaller within something larger. Hierarchical data have nested structures, as items higher up in the hierarchy contain items below it. To visualize such data, we may construct a **treemap**, which displays hierarchical structures by using nested rectangles.

To illustrate a simple treemap, let's plot GDP per capita using data fetched from the World Development Indicators API. For more details on fetching the data, refer to the handout on RMarkdown in Seminar 4.




---
### Treemaps

Let's view the data on GDP per Capita for 2022

```
## # A tibble: 10 × 3
##    country.value     date  GDPperCap
##    &lt;chr&gt;             &lt;chr&gt;     &lt;dbl&gt;
##  1 Brunei Darussalam 2022     37152.
##  2 Cambodia          2022      1760.
##  3 Indonesia         2022      4788.
##  4 Lao PDR           2022      2054.
##  5 Malaysia          2022     11993.
##  6 Myanmar           2022      1149.
##  7 Philippines       2022      3499.
##  8 Singapore         2022     82808.
##  9 Thailand          2022      6910.
## 10 Viet Nam          2022      4164.
```


---
### Treemaps

The following steps are implemented to construct a treemap to visualize GDP per Capita.

1. Install and import the package, `treemapify`.

2. The required aesthetic is `area`, which is  `GDPperCapita`. Declare it in `ggplot()` and add `geom_treemap()`

3. To differentiate the colors of the boxes, use `GDPerCapita` as a `fill` aesthetic.

4. To label the rectangles, include `country.value` as a label aesthetic.

5. To display the labels, use the following codes `geom_treemap_text(family = "AppleGothic", colour = "white", place = "centre", grow = TRUE)`

6. Clean the plots by changing the `fill` scale to `scale_fill_viridis_c` and change the titles.

---
### Exercise: Constructing a Treemap

.pull-left[
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/gdppercap.3-1.png" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="PlottingDistributionsBoxplots_files/figure-html/gdppercap.4-1.png" style="display: block; margin: auto;" /&gt;
]



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "solarized-light",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
