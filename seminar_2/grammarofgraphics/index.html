<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Principles of Data Storytelling and the Grammar of Graphics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Nicholas Sim" />
    <meta name="date" content="2024-01-09" />
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/header-attrs-2.24/header-attrs.js"></script>
    <link href="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/panelset-0.2.6/panelset.js"></script>
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/datatables-binding-0.29/datatables.js"></script>
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="scrollable.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Principles of Data Storytelling and the Grammar of Graphics
]
.author[
### Nicholas Sim
]
.date[
### 09 January 2024
]

---










class: center, middle, inverse
# Data Visualisation 

---
### What is Data Visualisation?

"Data visualization is the **presentation of data** in a **pictorial** or **graphical** format. 

It enables decision makers to see analytics presented visually, so they can grasp difficult concepts or identify new patterns." (sas.com)


---
### A Good Example

Charles Joseph Minard’s Napoleon’s March to Moscow.
&lt;img src="seminar2_minard.png" width="90%" style="display: block; margin: auto;" /&gt;




---
### A Not-So-Good Example

There is too much unneccessary information.
&lt;img src="seminar2_junk.png" width="60%" style="display: block; margin: auto;" /&gt;



---
### Why is Wrong?

* Limited cognitive load

* Unnecessary information clutters key visual information

  + Shadows
  + 3D
  + Chartjunk
  
---
class: center, middle, inverse
# Visualisation Attributes

---
### Data-Ink Ratio


Edward Tufte (1983): Maximize Data-to-ink ratio

**Definition 1** (DATA-INK) The **non-erasable** core of a graphic.

**Definition 2** (DATA-INK RATIO)
`$$\begin{aligned} 
\text{Data-Ink Ratio} = \frac{\text{Data ink}}{\text{Total ink used to print the graphic}}
\end{aligned}$$`

The proportion of a graphic’s ink devoted to non-redundant information.

Maximizing the data-ink ratio means that we should trim down the visuals to the necessary minimum and avoid redundant features/information.

---
### How Do We Draw Attention To Specific Details?  

Gestalt Principles of Visual Perception (see Ref: Chapter 3 of Nussbaumer-Knaflic (2015))

To understand what features we may use in a visualization, it is important to first understand how a person would perceive these features.

**Gestalt principles** refer to the principles on how individuals perceive order and relationships.  


Six Principles

  + Proximity
  + Similarity
  + Enclosure
  + Closure
  + Continuity
  + Connection


These principles describe how our brains see things and organize elements into groups.


---
### Proximity

Objects that are physically close together are perceived as related or belonging to part of a group.

&lt;img src="seminar2_proximity.png" width="85%" style="display: block; margin: auto;" /&gt;


---
### Similarity

Objects that share similar characteristics such as color, shape, size, or orientation are perceived as related or belonging to part of a group.

&lt;img src="seminar2_similarity.png" width="85%" style="display: block; margin: auto;" /&gt;

---
### Enclosure

Objects that are physically enclosed together are perceived as related or belonging to part of a group.

&lt;img src="seminar2_enclosure.png" width="85%" style="display: block; margin: auto;" /&gt;




---
### Closure

We tend to perceive a set of individual elements as a single, recognizable shape when we may. When parts of a whole are missing, our eyes fill in the gap.

&lt;img src="seminar2_closure.png" width="85%" style="display: block; margin: auto;" /&gt;




---
### Continuity

When looking at objects, our eyes seek the smoothest path and naturally create continuity in what we see even where it may not explicitly exist.

&lt;img src="seminar2_continuity.png" width="40%" style="display: block; margin: auto;" /&gt;



---
### Connection

We tend to think of objects that are physically connected as part of a group.


&lt;img src="seminar2_connection.png" width="85%" style="display: block; margin: auto;" /&gt;



---
class: center, middle, inverse
# The Grammar of Graphics

---
### The Grammar of Graphics 

* Leland Wilkinson (1999, 2005)

  + GG provides rule/structure for data visualization



There are seven layers in the Grammar of Graphics:

.pull-left[
* **Mandatory** 

  + Data
  + Aesthetics
  + Geometry
]

.pull-right[

* **Optional** 

  + Statistic
  + Coordinates (Projection) 
  + Facet
  + Theme
]


---
class: center, middle, inverse
# Mandatory Layers

---
### Data

**Data**: Records of events and their attributes.

The records are organized as rows and attributes (i.e. variables) as columns. The variables belong to two general types: qualitative and numerical.


    
    
---
### Numerical Data

**Numerical data**: Data that are represented by numbers and are ordered.

The types of numerical data are 
  * Floating point values - numerical values with decimal places
  * Integer 

Examples of numerical data are GDP per capita across ASEAN countries, literacy achievement scores across the OECD, population count of a country from 1980 to 2024, etc.

---
### Qualitative Data
 
**Qualitative** data: Data that represent certain qualities or attributes. They could be represented by numbers or strings. They could be ordered or unordered. 

A qualitative variable that represents multiple *unordered* categories is called a **categorical** or **nominal** variable. Examples are location (North, South, East, West, etc.), ethnicity (Bosnians, Croats, Montenegrins, etc.).

A qualitative variable that represents multiple *ordered* categories is called an **ordinal** variable. Examples are years of education, income range such as 0-1000, 1000-2000, etc. 

A qualitative variable that represents two categories, ordered or unordered, is called a **dummy** or **indicator** variable. It may be numerically represented by 1 or 0, where 1 indicates the presence of a quality. Examples include having an health insurance or not, graduated from a university or not, plays tennis or not, etc.

---
### Cross-Sectional, Time Series and Panel Data

There are three types of tabular data. They can be  cross-sectional data, a time series, or panel data.


---
### Data Frame

In R, data should be organized into a *data frame* where 

+ **Rows**: Observations (Records)

+ **Columns**: Variables 
  
The row in a data frame represents an observation or record. The column represents a variable, field,  feature, or attribute. 

---
### Data Frame

A dataset organized in this manner is said to be **tabular** or in a  *long form*. Our source data (e.g. data extracted from an API) may not be organized in this way.  Therefore, before conducting our analysis, we must first shape it into a long form first. An example of a long form data is below.

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7d4e0bcd5f4abf724195" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7d4e0bcd5f4abf724195">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49"],[10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],[1824,1828,1832,1836,1840,1844,1848,1852,1856,1860,1864,1868,1872,1876,1880,1884,1888,1892,1896,1900,1904,1908,1912,1916,1920,1924,1928,1932,1936,1940,1944,1948,1952,1956,1960,1964,1968,1972,1976,1980,1984,1988,1992,1996,2000,2004,2008,2012,2016],["John Quincy Adams","Andrew Jackson","Andrew Jackson","Martin Van Buren","William Henry Harrison","James Polk","Zachary Taylor","Franklin Pierce","James Buchanan","Abraham Lincoln","Abraham Lincoln","Ulysses Grant","Ulysses Grant","Rutherford Hayes","James Garfield","Grover Cleveland","Benjamin Harrison","Grover Cleveland","William McKinley","William McKinley","Theodore Roosevelt","William Taft","Woodrow Wilson","Woodrow Wilson","Warren Harding","Calvin Coolidge","Herbert Hoover","Franklin Roosevelt","Franklin Roosevelt","Franklin Roosevelt","Franklin Roosevelt","Harry Truman","Dwight Eisenhower","Dwight Eisenhower","John Kennedy","Lyndon Johnson","Richard Nixon","Richard Nixon","Jimmy Carter","Ronald Reagan","Ronald Reagan","George H. W. Bush","Bill Clinton","Bill Clinton","George W. Bush","George W. Bush","Barack Obama","Barack Obama","Donald Trump"],["D.-R.","Dem.","Dem.","Dem.","Whig","Dem.","Whig","Dem.","Dem.","Rep.","Rep.","Rep.","Rep.","Rep.","Rep.","Dem.","Rep.","Dem.","Rep.","Rep.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Rep.","Dem.","Dem.","Dem.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem.","Rep.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep."],[0.3218,0.6820000000000001,0.7657,0.5782,0.7959000000000001,0.6182,0.5621,0.8581,0.5878,0.5941,0.9099,0.7279,0.8125,0.5014,0.5799,0.5461,0.581,0.6239,0.6063,0.6523,0.7059,0.6646,0.8192,0.5217000000000001,0.7608,0.7194,0.8362000000000001,0.8889,0.9849,0.8456,0.8136,0.5706,0.8324,0.8606,0.5642,0.9033,0.5595,0.9665,0.552,0.9089,0.9758,0.7917999999999999,0.6877,0.7045,0.5037,0.5316,0.6784,0.6171,0.5687],[0.3092,0.5593,0.5474,0.5079,0.5286999999999999,0.4954,0.4728,0.5083,0.4529,0.3965,0.5503,0.5266,0.5558,0.4792,0.4831,0.4885,0.478,0.4602,0.5102,0.5164,0.5642,0.5157,0.4184,0.4924,0.6032,0.5404,0.5821,0.5741000000000001,0.608,0.5474,0.5339,0.4955,0.5518,0.5737,0.4972,0.6105,0.4342,0.6067,0.5008,0.5075,0.5877,0.5337,0.4301,0.4923,0.4787,0.5073,0.5293,0.5106000000000001,0.4625],[-0.1044,0.1225,0.1781,0.142,0.0605,0.0145,0.0479,0.06950000000000001,0.122,0.1013,0.1008,0.0532,0.118,-0.03,0.0009,0.0057,-0.083,0.0301,0.0431,0.0612,0.1883,0.0853,0.1444,0.0312,0.2617,0.2522,0.1741,0.1776,0.2426,0.09959999999999999,0.075,0.0448,0.1085,0.154,0.0017,0.2258,0.007,0.2315,0.0206,0.0974,0.1821,0.0772,0.0556,0.0851,-0.051,0.0246,0.0727,0.0386,-0.0175],[113142,642806,702735,763291,1275583,1339570,1360235,1605943,1835140,1855993,2211317,3013790,3597439,4034142,4453337,4914482,5443633,5553898,7112138,7228864,7630557,7678335,6296284,9126868,16144093,15723789,21427123,22821277,27752648,27313945,25612916,24179347,34075529,35579180,34220984,43127041,31783783,47168710,40831881,43903230,54455472,48886597,44909806,47400125,50460110,62040610,69498516,65915796,62562131],[-38221,140839,228628,213384,145938,39413,137882,219525,494472,474049,405090,304810,763729,-252666,1898,57579,-94530,363099,601331,857932,2546677,1269356,2173563,578140,7004432,7337547,6411659,7060023,11070786,4966201,3594987,2188055,6700439,9551152,112827,15951287,511944,17995488,1683247,8423115,16878120,7077121,5805256,8201370,-543816,3012171,9550193,4982296,-2363361],["Andrew Jackson","John Quincy Adams","Henry Clay","William Henry Harrison","Martin Van Buren","Henry Clay","Lewis Cass","Winfield Scott","John Fremont","John Breckinridge","George McClellan","Horatio Seymour","Horace Greeley","Samuel Tilden","Winfield Scott Hancock","James Blaine","Grover Cleveland","Benjamin Harrison","William Jennings Bryan","William Jennings Bryan","Alton Brooks Parker","William Jennings Bryan","Theodore Roosevelt","Charles Evans Hughes","James Cox","John Davis","Al Smith","Herbert Hoover","Alf Landon","Wendell Willkie","Thomas Dewey","Thomas Dewey","Adlai Stevenson","Adlai Stevenson","Richard Nixon","Barry Goldwater","Hubert Humphrey","George McGovern","Gerald Ford","Jimmy Carter","Walter Mondale","Michael Dukakis","George H. W. Bush","Bob Dole","Al Gore","John Kerry","John McCain","Mitt Romney","Hillary Clinton"],["D.-R.","N. R.","N. R.","Whig","Dem.","Whig","Dem.","Whig","Rep.","Dem.","Dem.","Dem.","L. R.","Dem.","Dem.","Rep.","Dem.","Rep.","Dem.","Dem.","Dem.","Dem.","Prog.","Rep.","Dem.","Dem.","Dem.","Rep.","Rep.","Rep.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep.","Dem.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem."],[0.269,0.573,0.57,0.5649999999999999,0.803,0.792,0.728,0.695,0.794,0.8179999999999999,0.763,0.8090000000000001,0.721,0.826,0.805,0.782,0.805,0.758,0.796,0.737,0.655,0.657,0.59,0.618,0.492,0.489,0.569,0.569,0.61,0.624,0.5590000000000001,0.522,0.623,0.602,0.638,0.628,0.625,0.5620000000000001,0.548,0.542,0.552,0.528,0.581,0.517,0.542,0.601,0.616,0.586,0.539],["Adams","Jackson","Jackson","Buren","Harrison","Polk","Taylor","Pierce","Buchanan","Lincoln","Lincoln","Grant","Grant","Hayes","Garfield","Cleveland","Harrison","Cleveland","McKinley","McKinley","Roosevelt","Taft","Wilson","Wilson","Harding","Coolidge","Hoover","Roosevelt","Roosevelt","Roosevelt","Roosevelt","Truman","Eisenhower","Eisenhower","Kennedy","Johnson","Nixon","Nixon","Carter","Reagan","Reagan","Bush","Clinton","Clinton","Bush","Bush","Obama","Obama","Trump"],["Adams 1824","Jackson 1828","Jackson 1832","Buren 1836","Harrison 1840","Polk 1844","Taylor 1848","Pierce 1852","Buchanan 1856","Lincoln 1860","Lincoln 1864","Grant 1868","Grant 1872","Hayes 1876","Garfield 1880","Cleveland 1884","Harrison 1888","Cleveland 1892","McKinley 1896","McKinley 1900","Roosevelt 1904","Taft 1908","Wilson 1912","Wilson 1916","Harding 1920","Coolidge 1924","Hoover 1928","Roosevelt 1932","Roosevelt 1936","Roosevelt 1940","Roosevelt 1944","Truman 1948","Eisenhower 1952","Eisenhower 1956","Kennedy 1960","Johnson 1964","Nixon 1968","Nixon 1972","Carter 1976","Reagan 1980","Reagan 1984","Bush 1988","Clinton 1992","Clinton 1996","Bush 2000","Bush 2004","Obama 2008","Obama 2012","Trump 2016"],["Jackson","Adams","Clay","Harrison","Buren","Clay","Cass","Scott","Fremont","Breckinridge","McClellan","Seymour","Greeley","Tilden","Hancock","Blaine","Cleveland","Harrison","Bryan","Bryan","Parker","Bryan","Roosevelt","Hughes","Cox","Davis","Smith","Hoover","Landon","Willkie","Dewey","Dewey","Stevenson","Stevenson","Nixon","Goldwater","Humphrey","McGovern","Ford","Carter","Mondale","Dukakis","Bush","Dole","Gore","Kerry","McCain","Romney","Clinton"],["Jackson 1824","Adams 1828","Clay 1832","Harrison 1836","Buren 1840","Clay 1844","Cass 1848","Scott 1852","Fremont 1856","Breckinridge 1860","McClellan 1864","Seymour 1868","Greeley 1872","Tilden 1876","Hancock 1880","Blaine 1884","Cleveland 1888","Harrison 1892","Bryan 1896","Bryan 1900","Parker 1904","Bryan 1908","Roosevelt 1912","Hughes 1916","Cox 1920","Davis 1924","Smith 1928","Hoover 1932","Landon 1936","Willkie 1940","Dewey 1944","Dewey 1948","Stevenson 1952","Stevenson 1956","Nixon 1960","Goldwater 1964","Humphrey 1968","McGovern 1972","Ford 1976","Carter 1980","Mondale 1984","Dukakis 1988","Bush 1992","Dole 1996","Gore 2000","Kerry 2004","McCain 2008","Romney 2012","Clinton 2016"],[false,true,true,false,false,false,false,false,false,true,true,true,true,false,false,true,false,true,true,true,false,false,true,true,false,false,false,true,true,true,true,false,true,true,false,false,true,true,false,true,true,false,true,true,true,true,true,true,false],[84,178,219,170,234,170,163,254,174,180,212,214,286,185,214,219,233,277,271,292,336,321,435,277,404,382,444,472,523,449,432,303,442,457,303,486,301,520,297,489,525,426,370,379,271,286,365,332,306],[261,261,286,294,294,275,290,296,296,303,233,294,352,369,369,401,401,444,447,447,476,483,531,531,531,531,531,531,531,531,531,531,531,531,537,538,538,538,538,538,538,538,538,538,538,538,538,538,538]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>election<\/th>\n      <th>year<\/th>\n      <th>winner<\/th>\n      <th>win_party<\/th>\n      <th>ec_pct<\/th>\n      <th>popular_pct<\/th>\n      <th>popular_margin<\/th>\n      <th>votes<\/th>\n      <th>margin<\/th>\n      <th>runner_up<\/th>\n      <th>ru_part<\/th>\n      <th>turnout_pct<\/th>\n      <th>winner_lname<\/th>\n      <th>winner_label<\/th>\n      <th>ru_lname<\/th>\n      <th>ru_label<\/th>\n      <th>two_term<\/th>\n      <th>ec_votes<\/th>\n      <th>ec_denom<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"scrollY":300,"scrollX":"100%","scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":[1,2,5,6,7,8,9,12,18,19]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


---
### Plots Types

Certain plots are suitable for presentation for certain data types. The following is a non-exhaustive list:


* Qualitative 
    - Univariate plots: bar plots, pie charts, treemap
    - Multivariate plots: stacked bar plots, dodged bar plots
    
    
* Numerical
    - Univariate plots: histograms, density plots, box plots, line plots (for time series)
    - Multivariate plots: scatter plots, density/contour plots, waterfall charts
    

* Qualitative and Numerical
    - boxplots (categorical variable on one axis, boxplots on the other axis), dot plots, jitter plots, lollipop plots
  
   
    
* Spatial
    - Chloropeth maps

See https://r-graph-gallery.com/



---
### Aesthetics


**Aesthetics**: *Mapping* of the data to the output (i.e. figure). Example: To construct a scatter plot, our data could be mapped into the following features of a data visualisation:

  - **x**- or **y**-variable. (mandatory)
  
  - **color** of the data points 
  
  - **size** of the data points
  
  - **shape** of the data points (e.g. triangle, square, circle, etc.)
  
  - **label** of the data points (e.g. name of the country associated with each data point)
  
  

---
### Geometry

**Geometry**: How the selected data are to be presented (i.e. figure).

  - **point** (scatter) plot
  
  - **line** plot
  
  - **bar** graph
  
  - **boxplot**
  
  - **polygon** (maps)
  
  
---
class: center, middle, inverse
# Optional Layers

---
### Statistic

**Statistic**: Provides context for the graph (e.g. mean, regression line, etc.)

.pull-left[
The average miles per gallon is shown here.
&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/unnamed-chunk-11-1.png" style="display: block; margin: auto;" /&gt;
]


.pull-right[
A trend (i.e. regression) line is added here.
&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/unnamed-chunk-12-1.png" style="display: block; margin: auto;" /&gt;
]

---
### Coordinates

**Coordinates**: How the data are projected onto the graph.

The most common coordinate system for data visualisation are the x-y (Cartesian) coordinates.

Other coordinate systems include polar coordinates, which are used for plotting pie charts, and spatial coordinates such as the Albers Projection, which are used for map construction.



---
### Facet

**Facet**: Displaying multiple plots (or different facets of the data) within a single graph.

The facet is typically represented by a qualitative variable. Faceting involves creating a plot specific to a subset of data corresponding to a category within that categorical variable. For example, the scatter plot below plots the relationship between petal length and sepal length for each of the three iris species.

&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/unnamed-chunk-13-1.png" style="display: block; margin: auto;" /&gt;


---
### Theme

**Theme**: General appearance/look/feel of the graph.

The theme is related to elements on the visualisation such as the text size of the plot and axis titles and the axis text, the margins of the plot and axis titles, the style of the visualisation, etc. For example, here are two different themes of the same plot.

&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/unnamed-chunk-14-1.png" style="display: block; margin: auto;" /&gt;

---
class: center, middle, inverse
# Examples
  
---
###  A Scatter Plot

.pull-left[
A nice plot... 
&lt;img src="seminar2_scatter1.png" width="85%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
A more attractive plot...
&lt;img src="seminar2_scatter2.png" width="85%" style="display: block; margin: auto;" /&gt;
]

Which features in this figure correspond with: Aesthetics? Geometry? Statistic? Coordinates?

Is the color distinction necessary? 


---
### US Presidents, Then and Now 
 
Let's analyse the history of US Presidential elections. Here are the first few rows of the dataset.

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-eb1150c3a04668ce7046" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-eb1150c3a04668ce7046">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49"],[1824,1828,1832,1836,1840,1844,1848,1852,1856,1860,1864,1868,1872,1876,1880,1884,1888,1892,1896,1900,1904,1908,1912,1916,1920,1924,1928,1932,1936,1940,1944,1948,1952,1956,1960,1964,1968,1972,1976,1980,1984,1988,1992,1996,2000,2004,2008,2012,2016],["John Quincy Adams","Andrew Jackson","Andrew Jackson","Martin Van Buren","William Henry Harrison","James Polk","Zachary Taylor","Franklin Pierce","James Buchanan","Abraham Lincoln","Abraham Lincoln","Ulysses Grant","Ulysses Grant","Rutherford Hayes","James Garfield","Grover Cleveland","Benjamin Harrison","Grover Cleveland","William McKinley","William McKinley","Theodore Roosevelt","William Taft","Woodrow Wilson","Woodrow Wilson","Warren Harding","Calvin Coolidge","Herbert Hoover","Franklin Roosevelt","Franklin Roosevelt","Franklin Roosevelt","Franklin Roosevelt","Harry Truman","Dwight Eisenhower","Dwight Eisenhower","John Kennedy","Lyndon Johnson","Richard Nixon","Richard Nixon","Jimmy Carter","Ronald Reagan","Ronald Reagan","George H. W. Bush","Bill Clinton","Bill Clinton","George W. Bush","George W. Bush","Barack Obama","Barack Obama","Donald Trump"],["D.-R.","Dem.","Dem.","Dem.","Whig","Dem.","Whig","Dem.","Dem.","Rep.","Rep.","Rep.","Rep.","Rep.","Rep.","Dem.","Rep.","Dem.","Rep.","Rep.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Rep.","Dem.","Dem.","Dem.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem.","Rep.","Rep.","Rep.","Dem.","Dem.","Rep.","Rep.","Dem.","Dem.","Rep."],[0.3218,0.6820000000000001,0.7657,0.5782,0.7959000000000001,0.6182,0.5621,0.8581,0.5878,0.5941,0.9099,0.7279,0.8125,0.5014,0.5799,0.5461,0.581,0.6239,0.6063,0.6523,0.7059,0.6646,0.8192,0.5217000000000001,0.7608,0.7194,0.8362000000000001,0.8889,0.9849,0.8456,0.8136,0.5706,0.8324,0.8606,0.5642,0.9033,0.5595,0.9665,0.552,0.9089,0.9758,0.7917999999999999,0.6877,0.7045,0.5037,0.5316,0.6784,0.6171,0.5687],[0.3092,0.5593,0.5474,0.5079,0.5286999999999999,0.4954,0.4728,0.5083,0.4529,0.3965,0.5503,0.5266,0.5558,0.4792,0.4831,0.4885,0.478,0.4602,0.5102,0.5164,0.5642,0.5157,0.4184,0.4924,0.6032,0.5404,0.5821,0.5741000000000001,0.608,0.5474,0.5339,0.4955,0.5518,0.5737,0.4972,0.6105,0.4342,0.6067,0.5008,0.5075,0.5877,0.5337,0.4301,0.4923,0.4787,0.5073,0.5293,0.5106000000000001,0.4625],[-0.1044,0.1225,0.1781,0.142,0.0605,0.0145,0.0479,0.06950000000000001,0.122,0.1013,0.1008,0.0532,0.118,-0.03,0.0009,0.0057,-0.083,0.0301,0.0431,0.0612,0.1883,0.0853,0.1444,0.0312,0.2617,0.2522,0.1741,0.1776,0.2426,0.09959999999999999,0.075,0.0448,0.1085,0.154,0.0017,0.2258,0.007,0.2315,0.0206,0.0974,0.1821,0.0772,0.0556,0.0851,-0.051,0.0246,0.0727,0.0386,-0.0175],["Adams 1824","Jackson 1828","Jackson 1832","Buren 1836","Harrison 1840","Polk 1844","Taylor 1848","Pierce 1852","Buchanan 1856","Lincoln 1860","Lincoln 1864","Grant 1868","Grant 1872","Hayes 1876","Garfield 1880","Cleveland 1884","Harrison 1888","Cleveland 1892","McKinley 1896","McKinley 1900","Roosevelt 1904","Taft 1908","Wilson 1912","Wilson 1916","Harding 1920","Coolidge 1924","Hoover 1928","Roosevelt 1932","Roosevelt 1936","Roosevelt 1940","Roosevelt 1944","Truman 1948","Eisenhower 1952","Eisenhower 1956","Kennedy 1960","Johnson 1964","Nixon 1968","Nixon 1972","Carter 1976","Reagan 1980","Reagan 1984","Bush 1988","Clinton 1992","Clinton 1996","Bush 2000","Bush 2004","Obama 2008","Obama 2012","Trump 2016"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>winner<\/th>\n      <th>win_party<\/th>\n      <th>ec_pct<\/th>\n      <th>popular_pct<\/th>\n      <th>popular_margin<\/th>\n      <th>winner_label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"scrollY":200,"scrollX":"100%","scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":[1,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
### US Presidents, Then and Now 

What are the aesthetics (i.e. visualisation elements such as the x-variable, y-variable, color and label are mapped from the data frame)? What is the geometry, i.e. what sort of graph is this?

&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/elections_historic-1.png" style="display: block; margin: auto;" /&gt;




---
### Retrenchments in Singapore

Here are some data on retrenchment.



<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6c720205f2dae060ee07" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6c720205f2dae060ee07">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264"],["1998-01-01","1998-04-01","1998-07-01","1998-10-01","1999-01-01","1999-04-01","1999-07-01","1999-10-01","2000-01-01","2000-04-01","2000-07-01","2000-10-01","2001-01-01","2001-04-01","2001-07-01","2001-10-01","2002-01-01","2002-04-01","2002-07-01","2002-10-01","2003-01-01","2003-04-01","2003-07-01","2003-10-01","2004-01-01","2004-04-01","2004-07-01","2004-10-01","2005-01-01","2005-04-01","2005-07-01","2005-10-01","2006-01-01","2006-04-01","2006-07-01","2006-10-01","2007-01-01","2007-04-01","2007-07-01","2007-10-01","2008-01-01","2008-04-01","2008-07-01","2008-10-01","2009-01-01","2009-04-01","2009-07-01","2009-10-01","2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01","1998-01-01","1998-04-01","1998-07-01","1998-10-01","1999-01-01","1999-04-01","1999-07-01","1999-10-01","2000-01-01","2000-04-01","2000-07-01","2000-10-01","2001-01-01","2001-04-01","2001-07-01","2001-10-01","2002-01-01","2002-04-01","2002-07-01","2002-10-01","2003-01-01","2003-04-01","2003-07-01","2003-10-01","2004-01-01","2004-04-01","2004-07-01","2004-10-01","2005-01-01","2005-04-01","2005-07-01","2005-10-01","2006-01-01","2006-04-01","2006-07-01","2006-10-01","2007-01-01","2007-04-01","2007-07-01","2007-10-01","2008-01-01","2008-04-01","2008-07-01","2008-10-01","2009-01-01","2009-04-01","2009-07-01","2009-10-01","2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01","1998-01-01","1998-04-01","1998-07-01","1998-10-01","1999-01-01","1999-04-01","1999-07-01","1999-10-01","2000-01-01","2000-04-01","2000-07-01","2000-10-01","2001-01-01","2001-04-01","2001-07-01","2001-10-01","2002-01-01","2002-04-01","2002-07-01","2002-10-01","2003-01-01","2003-04-01","2003-07-01","2003-10-01","2004-01-01","2004-04-01","2004-07-01","2004-10-01","2005-01-01","2005-04-01","2005-07-01","2005-10-01","2006-01-01","2006-04-01","2006-07-01","2006-10-01","2007-01-01","2007-04-01","2007-07-01","2007-10-01","2008-01-01","2008-04-01","2008-07-01","2008-10-01","2009-01-01","2009-04-01","2009-07-01","2009-10-01","2010-01-01","2010-04-01","2010-07-01","2010-10-01","2011-01-01","2011-04-01","2011-07-01","2011-10-01","2012-01-01","2012-04-01","2012-07-01","2012-10-01","2013-01-01","2013-04-01","2013-07-01","2013-10-01","2014-01-01","2014-04-01","2014-07-01","2014-10-01","2015-01-01","2015-04-01","2015-07-01","2015-10-01","2016-01-01","2016-04-01","2016-07-01","2016-10-01","2017-01-01","2017-04-01","2017-07-01","2017-10-01","2018-01-01","2018-04-01","2018-07-01","2018-10-01","2019-01-01","2019-04-01","2019-07-01","2019-10-01"],["construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","construction","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","manufacturing","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services","services"],[560,600,600,680,420,110,110,190,140,60,60,110,160,170,260,320,310,250,140,300,210,210,200,120,70,200,60,80,140,160,150,90,60,390,30,10,null,10,50,20,null,20,130,390,350,240,140,250,340,150,170,690,310,410,100,240,260,180,140,70,130,250,260,480,400,280,210,800,610,230,430,520,390,350,600,580,660,470,490,400,350,470,200,180,280,150,160,270,6170,5010,4330,5190,1220,1980,1870,3300,5120,590,810,980,2020,4120,5480,4060,2000,1750,2260,3650,1950,2690,1620,1220,1560,800,810,1540,1270,1270,2050,2500,2600,1960,1910,2390,1440,1430,1310,1330,1820,1230,2230,5160,9100,2820,870,860,1000,1140,970,1370,1440,600,770,1660,750,520,1200,1580,680,1630,1250,1430,820,710,1270,1180,950,870,920,2480,1790,1380,1120,1990,890,840,730,1330,510,820,870,380,1040,490,600,670,2100,2130,2680,2720,2060,1530,1580,1150,950,1230,950,950,1340,1970,3050,4430,2800,2530,1850,2110,2440,2610,2270,1450,1240,1110,1140,1730,870,820,1030,790,980,1080,630,980,650,590,980,770,590,640,820,3820,3300,2910,1430,1080,1060,990,790,1120,1010,1020,1050,1360,1580,1510,1510,1690,1300,1190,1200,1740,1890,1420,2030,1930,1930,2100,2120,2360,2530,3000,2510,2840,2440,2330,2180,1950,1470,1740,1800,1950,1900,1680,1690,1730],["90","430","220","470","240","70","70","130","90","60","40","70","150","100","170","270","240","210","120","270","160","170","180","120","70","190","60","60","50","70","30","60","60","320","10","-","-","10","10","10","-","20","70","150","100","150","40","160","100","80","120","250","90","190","30","160","220","130","50","40","90","160","170","300","160","200","170","460","260","120","130","260","150","210","250","260","370","220","370","230","220","350","120","110","210","80","110","100","5110","4890","4040","4890","1160","1760","1790","3280","5040","590","790","980","1770","3610","5140","3920","1960","1360","2240","3590","1910","2530","1590","1210","1550","790","770","1380","1260","1250","1830","2470","2590","1920","1860","2360","1380","1350","1250","1270","1730","1190","1680","3800","7870","2480","760","810","740","1040","690","1310","1370","520","470","1550","610","480","1100","1530","670","1610","1210","1350","810","490","1040","1000","920","750","780","2340","1550","1250","950","1860","740","710","590","1290","440","770","770","310","1020","420","490","650","1940","1990","2370","2650","2010","1510","1530","1050","920","1210","920","910","1320","1900","2960","4320","2660","2470","1810","2080","2340","2430","2090","1420","1210","1070","1060","1690","850","790","950","670","960","1020","600","840","570","560","570","700","540","590","590","3520","2910","2540","1280","980","970","890","630","930","910","920","870","1220","1450","1360","1270","1410","1240","1050","1020","1670","1610","1320","1900","1730","1750","1980","1850","2230","2380","2870","2310","2670","2370","2190","1960","1830","1390","1640","1680","1820","1780","1620","1620","1690"],["480","170","380","210","180","30","40","60","60","10","20","40","-","70","90","50","70","40","20","30","60","40","20","-","10","10","-","20","90","90","120","40","-","70","20","10","-","-","40","10","-","-","50","240","250","90","100","100","240","60","50","450","220","220","70","80","40","50","90","30","40","100","90","180","240","80","40","340","350","110","300","250","230","140","350","320","290","250","130","160","120","120","80","70","70","70","50","180","1060","120","290","300","70","220","80","10","80","-","10","-","250","520","340","140","40","390","20","60","40","160","40","20","10","10","40","160","10","20","220","30","10","40","50","30","60","80","50","60","90","40","550","1350","1220","340","110","50","270","100","280","70","70","80","300","110","150","50","90","50","10","30","40","90","10","220","230","170","30","130","130","140","240","130","160","130","140","130","140","50","70","50","100","70","30","70","100","20","160","150","310","70","50","20","50","90","30","10","30","40","20","60","90","110","140","60","40","30","100","170","190","30","30","40","80","40","10","30","90","110","20","60","30","140","80","40","420","70","50","50","230","300","390","370","150","100","90","110","160","200","90","100","190","140","130","150","240","280","60","140","190","70","280","100","130","200","180","120","270","130","150","130","200","170","80","140","220","120","80","100","120","130","120","60","70","40"],[267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,267.33,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1844.2,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5,1687.5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>quarter<\/th>\n      <th>industry1<\/th>\n      <th>retrench<\/th>\n      <th>retrench_permanent<\/th>\n      <th>retrench_term_contract<\/th>\n      <th>mean_retrench<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"scrollY":300,"scollX":"100%","scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":[3,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---
### Retrenchments in Singapore

Given that retrenchment data are time series data, the appropriate visualisation type is the line plot.

&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/retrenchment1-1.png" style="display: block; margin: auto;" /&gt;




---
### Retrenchments in Singapore

Here is an example of a facet plot, where the faceting is based on industry.
&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/retrenchment2-1.png" style="display: block; margin: auto;" /&gt;








---
### Example: US Elections, 2016 

This is an example of a **choropleth** map, where the x- and y- aesthetics are the longitude and latitude and the "Albers" coordinate projection is used (which gives the map a conical appearance). The winning party is used to fill in the color of the states. 

&lt;img src="PrinciplesOfDataStorytellingAndTheGrammarOfGraphics_files/figure-html/US_presidents-1.png" style="display: block; margin: auto;" /&gt;



---
### Recap

The Grammar of Graphics has three necessary layers: 
  + data, aesthetics, geometry.

The rest are optional layers that we exploit for data storytelling:
  + statistic, coordinates, facet, theme 


---
### Exercise

TRUE or FALSE?

* Geometry refers to the plot by which the data are presented. 

* An aesthetic is the mapping of a data to a feature in the geometry.

* A data frame that presents variables in rows and observations in columns is said to be in the long form/tidy.


---
### Exercise
TRUE or FALSE?


* The data contained in the table below is organized in the long form.


<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f536999186b7dd386cab" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f536999186b7dd386cab">{"x":{"filter":"none","vertical":false,"caption":"<caption>GDP Per capita in ASEAN<\/caption>","data":[["1","2","3","4","5","6","7","8","9"],["Brunei","Cambodia","Indonesia","Malaysia","Myanmar","Philippines","Singapore","Thailand","Vietnam"],[34800.56,752.8,2979,8559.23,899.24,2006.59,41983.07,4744.76,1250.8],[35269.55,785.5,3122.36,9040.57,979.05,2124.06,47236.96,5076.34,1317.89],[36121.89,827.78,3270.62,9372.01,1025.89,2164.86,49159.38,5094.47,1385.89],[35967.33,873.95,3421.27,9743.1,1092.06,2270.53,50102.23,5437.87,1443.49],[34729.83,922.89,3563.3,10061.72,1174.05,2390.13,51671.15,5558.72,1505.81],[33471.15,972.74,3692.97,10524.07,1257.48,2495.58,52994.04,5589.31,1579.19],[32869.29,1024.62,3824.27,10912.15,1335.2,2605.49,53883.82,5741.34,1667.17],[31685.23,1079.63,3968.06,11244,1403.77,2743.2,54764.86,5911.95,1752.53],[31752.74,1137.82,4120.43,11728.98,1489.17,2884.38,56740.75,6128.66,1852.96],[31436.87,1205.04,4284.65,12120.08,1571.91,3021.99,58247.87,6361.62,1964.48]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>2009<\/th>\n      <th>2010<\/th>\n      <th>2011<\/th>\n      <th>2012<\/th>\n      <th>2013<\/th>\n      <th>2014<\/th>\n      <th>2015<\/th>\n      <th>2016<\/th>\n      <th>2017<\/th>\n      <th>2018<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"scrollY":300,"scrollX":"100%","scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


---
### Remarks On Data Shape

.pull-left[ 
In the previous table, the columns are years and the rows are related to the attribute "GDP Per capita in ASEAN" for each country. Such data format is in a wide form, not long form, and therefore, unsuitable for visualisation.

To reshape the data, we may use the functions `pivot_longer()` and `pivot_wider()` from `dplyr`. Here, we will use `pivot_longer()` to gather all the values of "GDP Per capita in ASEAN" into a single column. The columns shown here represent the attributes such as `Country`, `year`, and `GDP per Capita`.

To see how the data are reshaped into the long form shown here, refer to the RMarkdown source file for this slide deck.
]

.pull-right[
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a481bf557fcd6b2cfca6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a481bf557fcd6b2cfca6">{"x":{"filter":"none","vertical":false,"caption":"<caption>GDP Per capita in ASEAN<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90"],["Brunei","Brunei","Brunei","Brunei","Brunei","Brunei","Brunei","Brunei","Brunei","Brunei","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Cambodia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Indonesia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Malaysia","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Myanmar","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Philippines","Singapore","Singapore","Singapore","Singapore","Singapore","Singapore","Singapore","Singapore","Singapore","Singapore","Thailand","Thailand","Thailand","Thailand","Thailand","Thailand","Thailand","Thailand","Thailand","Thailand","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam","Vietnam"],["2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],[34800.56,35269.55,36121.89,35967.33,34729.83,33471.15,32869.29,31685.23,31752.74,31436.87,752.8,785.5,827.78,873.95,922.89,972.74,1024.62,1079.63,1137.82,1205.04,2979,3122.36,3270.62,3421.27,3563.3,3692.97,3824.27,3968.06,4120.43,4284.65,8559.23,9040.57,9372.01,9743.1,10061.72,10524.07,10912.15,11244,11728.98,12120.08,899.24,979.05,1025.89,1092.06,1174.05,1257.48,1335.2,1403.77,1489.17,1571.91,2006.59,2124.06,2164.86,2270.53,2390.13,2495.58,2605.49,2743.2,2884.38,3021.99,41983.07,47236.96,49159.38,50102.23,51671.15,52994.04,53883.82,54764.86,56740.75,58247.87,4744.76,5076.34,5094.47,5437.87,5558.72,5589.31,5741.34,5911.95,6128.66,6361.62,1250.8,1317.89,1385.89,1443.49,1505.81,1579.19,1667.17,1752.53,1852.96,1964.48]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>year<\/th>\n      <th>GDP Per Capita<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"scrollY":300,"scrollX":"100%","scrollCollapse":true,"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


]

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "solarized-light",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
